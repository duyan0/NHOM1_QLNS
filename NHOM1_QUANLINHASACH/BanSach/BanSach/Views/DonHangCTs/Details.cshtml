@model BanSach.Models.DonHangCT

@{
    ViewBag.Title = "Chi tiết đơn hàng - " + Model.IDDonHang;
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<style>
    .container {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    h2 {
        text-align: center;
        color: black;
        font-weight: bold;
        margin-bottom: 20px;
    }

    .bang {
        border: 1px solid #ccc;
        padding: 20px;
        width: 45%;
        min-width: 300px;
        font-size: large;
    }

    .tieude {
        padding: 10px;
        font-weight: bold;
        color:black;
        width: 40%;
    }

    .value {
        padding: 10px;
        color: black;
    }

    table {
        width: 100%;
    }

    tr {
        border: 1px solid black;
    }
</style>

<h2 class="mt-5">Chi tiết đơn hàng</h2>

<div class="container">
    <!-- Bảng thông tin đơn hàng -->
    <table class="bang">
        <tr>
            <td class="tieude">Mã đơn hàng</td>
            <td class="value">
                @Html.DisplayFor(model => model.IDdh)
            </td>
        </tr>
        <tr>
            <td class="tieude">ID khách hàng</td>
            <td class="value">
                @Html.DisplayFor(model => model.DonHang.IDkh)
            </td>
        </tr>
        <tr>
            <td class="tieude">Tên khách hàng</td>
            <td class="value">
                @Html.DisplayFor(model => model.DonHang.KhachHang.TenKH)
            </td>
        </tr>
        <tr>
            <td class="tieude">Số điện thoại</td>
            <td class="value">
                @Html.DisplayFor(model => model.DonHang.KhachHang.SoDT)
            </td>
        </tr>
        <tr>
            <td class="tieude">Địa chỉ</td>
            <td class="value">
                @Html.DisplayFor(model => model.DonHang.DiaChi)
            </td>
        </tr>
        <tr>
            <td class="tieude">Ngày đặt hàng</td>
            <td class="value">
                @Html.DisplayFor(model => model.DonHang.NgayDatHang)
            </td>
        </tr>
    </table>

    <!-- Bảng chi tiết sản phẩm -->
    <table class="bang">
        <tr>
            <td class="tieude">Sản phẩm</td>
            <td class="value">
                @Html.DisplayFor(model => model.SanPham.TenSP)
            </td>
        </tr>
        <tr>
            <td class="tieude">Số lượng</td>
            <td class="value">
                @Html.DisplayFor(model => model.SoLuong)
            </td>
        </tr>
        <tr>
            <td class="tieude">Giá</td>
            <td class="value" style="color:red;">
                @string.Format("{0:N0} VND", Model.Gia)
            </td>
        </tr>
        <tr>
            <td class="tieude">Tổng tiền</td>
            <td class="value" style="color:red;">
                @Model.TongTien.ToString("N0") VND
            </td>
        </tr>
        <tr>
            <td class="tieude">Trạng thái</td>
            @{
                var color = "black";
                var trangThai = Model.DonHang.TrangThai?.Trim().ToLower();

                if (trangThai == "chờ xử lý")
                {
                    color = "orange"; // Chờ xử lý - Màu cam
                }
                else if (trangThai == "đã xác nhận")
                {
                    color = "green"; // Đã xác nhận - Màu xanh lá
                }
                else if (trangThai == "đã nhận hàng")
                {
                    color = "blue"; // Đã nhận hàng - Màu xanh dương
                }
                else if (trangThai == "đã huỷ")
                {
                    color = "red"; // Đã huỷ - Màu đỏ
                }
            }
            <td class="value" style="font-weight:bold; color:@color;">
                @Html.DisplayFor(model => model.DonHang.TrangThai)
            </td>
        </tr>
    </table>
</div>

<p>
    <div class="form-actions text-center">
        @Html.ActionLink("Quay về", "Index", null, new { @class = "btn btn-success btn-lg shadow-sm rounded-sm" })
    </div>
</p>
