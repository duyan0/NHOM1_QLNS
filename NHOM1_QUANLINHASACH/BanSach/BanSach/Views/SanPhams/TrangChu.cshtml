@model IEnumerable<BanSach.Models.DanhMuc>

@{
    ViewBag.Title = "Quản lý Nhà Sách";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var temp = new BanSach.Models.DanhMuc();
    var processedCategories = new HashSet<string>();
}
<style>
    .carousel-inner, .carousel-inner a, .col-lg-3 .d-flex {
        border-radius: 8px;
    }

    .carousel-inner {
        z-index: 1; /* Ensure carousel items are properly stacked */
    }

    .carousel-caption {
        z-index: 2; /* Ensure captions are above the images */
    }

    .img-fluid {
        border-radius: 10px;
    }

    #nxt, #prv {
        border-radius: 50%;
        border: none;
    }
</style>

<div id="header-carousel" class="carousel slide rounded-1" data-ride="carousel">
    <div class="carousel-inner col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 ">
        <!-- Poster 1 start -->
        <div class="carousel-item active" style="height: 300px;">
            <img class="img-fluid " src="https://placehold.co/1200x300" alt="Slide 1 - Giảm giá sách">
            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                <div class="p-3" style="max-width: 700px;">
                    <a href="~/SanPhams/ProductList" class="btn btn-light py-2 px-3">Mua ngay</a>
                </div>
            </div>
        </div>
        <!-- Poster 1 end -->
        <!-- Poster 2 start -->
        <div class="carousel-item" style="height: 300px;">
            <img class="img-fluid" src="https://placehold.co/1200x300" alt="Slide 2 - Giảm 100% cho sách chọn lọc">
            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                <div class="p-3" style="max-width: 700px;">
                    <a href="~/SanPhams/ProductList" class="btn btn-light py-2 px-3">Mua ngay</a>
                </div>
            </div>
        </div>
        <div class="carousel-item" style="height: 300px;">
            <img class="img-fluid" src="https://placehold.co/1200x300" alt="Slide 3 - Giảm 100% cho sách chọn lọc">
            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                <div class="p-3" style="max-width: 700px;">

                    <a href="~/SanPhams/ProductList" class="btn btn-light py-2 px-3">Mua ngay</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Carousel Controls -->
    <a class="carousel-control-prev justify-content-start" href="#header-carousel" role="button" data-slide="prev">
        <div class="btn btn-dark" style="width: 45px; height: 45px;" id="prv">
            <span class="carousel-control-prev-icon mb-n2 " aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </div>
    </a>
    <a class="carousel-control-next justify-content-end" href="#header-carousel" role="button" data-slide="next">
        <div class="btn btn-dark " style="width: 45px; height: 45px;" id="nxt">
            <span class="carousel-control-next-icon mb-n2" aria-hidden="true"></span>
            <span class="sr-only ">Next</span>
        </div>
    </a>
</div>
<div class="container-fluid d-flex mt-2">
    <div class="row">
        <div class="col-6 col-sm-6 col-md-3 col-lg-3 col-xl-3 mt-1 ">
            <div class="card border-0 bg-dark ">
                <a href="https://your-link.com">
                    <img src="https://placehold.co/300x200" class="d-block rounded-1 img-fluid" alt="Slide 1">
                </a>
            </div>
        </div>

        <div class="col-6 col-sm-6 col-md-3 col-lg-3 col-xl-3 mt-1">
            <div class="card border-0 bg-dark">
                <a href="https://your-link.com">
                    <img src="https://placehold.co/300x200" class="d-block rounded-1 img-fluid" alt="Slide 2">
                </a>
            </div>
        </div>

        <div class="col-6 col-sm-6 col-md-3 col-lg-3 col-xl-3 mt-1">
            <div class="card border-0 bg-dark">
                <a href="https://your-link.com">
                    <img src="https://placehold.co/300x200" class="d-block rounded-1 img-fluid" alt="Slide 3">
                </a>
            </div>
        </div>

        <div class="col-6 col-sm-6 col-md-3 col-lg-3 col-xl-3 mt-1">
            <div class="card border-0 bg-dark">
                <a href="https://your-link.com">
                    <img src="https://placehold.co/300x200" class="d-block rounded-1 img-fluid" alt="Slide 4">
                </a>
            </div>
        </div>
    </div>
</div>
<div class="bg-success">
    <hr />
</div>
@*----------------------------------------*@
<div class="container-fluid mt-2">
    <h4 class="text-white">Danh mục sản phẩm</h4>

    <div class="row product-category-container  ">
        @foreach (var item in Model.Take(8))
        {
            // Kiểm tra nếu danh mục chưa được xử lý và chưa có trong session
            if (!processedCategories.Contains(item.DanhMuc1) && Session[item.DanhMuc1] == null)
            {
                // Thêm danh mục vào HashSet để tránh trùng lặp
                processedCategories.Add(item.DanhMuc1);

                <div class="col-6 col-sm-6 col-md-2 col-lg-2 col-xl-2 mt-1">
                    <div class="card border-0 bg-dark">
                        <a href="~/SanPhams/Productlist/@item.TheLoai">
                            <img src="https://placehold.co/290x210" class="d-block rounded-1 img-fluid" alt="Slide 1">
                            <p class=" text-white text-center mt-1" style="font-size:14px;">@item.DanhMuc1</p>
                        </a>
                    </div>
                </div>
            }
        }
    </div>
</div>
<div class="bg-success">
    <hr />
</div>
@Html.Action("TopBanChay", "DonHangCTs")

@Html.Action("RecentOrders", "DonHangCTs")




